@namespace dmf_music_platform.Web.Components

<div class="card-container">
    <div class="flex justify-between items-center mb-8">
        <h2 class="text-2xl font-bold">Quality Control Review</h2>
        <button class="px-4 py-2 bg-gray-700 rounded hover:bg-gray-600" @onclick="OnBack">← Back</button>
    </div>

    <div class="space-y-6">
        <div class="p-6 bg-gray-900 border border-gray-700 rounded-lg">
            <h3 class="text-lg font-bold mb-4">Pre-Delivery Checks</h3>
            <ul class="space-y-3">
                <li class="flex items-center gap-3">
                    <input type="checkbox" class="w-5 h-5" @bind="checksComplete[0]" />
                    <span>✓ Metadata validation (title, artist, genre)</span>
                </li>
                <li class="flex items-center gap-3">
                    <input type="checkbox" class="w-5 h-5" @bind="checksComplete[1]" />
                    <span>✓ Cover art verification (3000x3000, correct format)</span>
                </li>
                <li class="flex items-center gap-3">
                    <input type="checkbox" class="w-5 h-5" @bind="checksComplete[2]" />
                    <span>✓ Audio files present and valid</span>
                </li>
                <li class="flex items-center gap-3">
                    <input type="checkbox" class="w-5 h-5" @bind="checksComplete[3]" />
                    <span>✓ Tracklist complete and in order</span>
                </li>
                <li class="flex items-center gap-3">
                    <input type="checkbox" class="w-5 h-5" @bind="checksComplete[4]" />
                    <span>✓ Rights verified (clearances, samples)</span>
                </li>
            </ul>
        </div>

        <div class="p-6 bg-green-950 border border-green-700 rounded-lg">
            <p class="text-green-300">✓ All checks passed. Ready for delivery!</p>
        </div>

        <div class="flex gap-4 pt-6">
            <button class="flex-1 px-4 py-3 bg-gray-700 rounded hover:bg-gray-600" @onclick="OnBack">← Back</button>
            <button class="flex-1 px-4 py-3 bg-blue-600 text-white rounded font-bold hover:bg-blue-700 disabled:opacity-50" 
                disabled="@(!AllChecksComplete)" @onclick="Next">
                Next: Confirm Delivery →
            </button>
        </div>
    </div>
</div>

@code {
    [Parameter]
    public string ReleaseType { get; set; } = "single";

    [Parameter]
    public EventCallback OnNext { get; set; }

    [Parameter]
    public EventCallback OnBack { get; set; }

    private bool[] checksComplete = new bool[5];
    private bool AllChecksComplete => checksComplete.All(x => x);

    private async Task Next()
    {
        await OnNext.InvokeAsync();
    }
}
